# =============================================================================
# Environment Variables Template
# =============================================================================
# IMPORTANT: Copy this file to .env.local and fill in your actual values
# NEVER commit .env.local or any file with real credentials to git!
# =============================================================================
#
# 🏠 LOCAL-FIRST DEVELOPMENT APPROACH
# =============================================================================
# Phases 1-5 (Weeks 1-18): ALL LOCAL - No AWS required!
#   - PostgreSQL: Docker container (see docker-compose.yml)
#   - File Storage: Local filesystem (./uploads/)
#   - Email: MailHog (Docker container, web UI at http://localhost:8025)
#   - API: Express.js (http://localhost:3000)
#
# Phase 6 (Week 19+): AWS Deployment
#   - Convert Express.js to Lambda
#   - Switch to AWS RDS, S3, SES
#   - Use production values below
#
# For Phase 1-5, you only need: DATABASE_URL, KINDE_*, and STRIPE_*
# Skip all AWS configuration until Phase 6!
# =============================================================================

# =============================================================================
# GENERAL
# =============================================================================
NODE_ENV=development
API_BASE_URL=http://localhost:3000

# =============================================================================
# DATABASE - LOCAL (Docker PostgreSQL)
# =============================================================================
# Use this for Phases 1-5 (local development)
# Start database with: docker-compose up -d

DATABASE_URL=postgresql://dev_user:dev_password@localhost:5432/parenting_helper_dev

# =============================================================================
# FILE STORAGE - LOCAL
# =============================================================================
# Use local filesystem during development (Phases 1-5)
STORAGE_TYPE=local
UPLOADS_DIR=./uploads

# =============================================================================
# EMAIL - LOCAL (MailHog)
# =============================================================================
# Use MailHog for local email testing (Phases 1-5)
# View emails at: http://localhost:8025
SMTP_HOST=localhost
SMTP_PORT=1025
EMAIL_FROM=noreply@parentinghelper.local

# =============================================================================
# AWS CONFIGURATION (SKIP UNTIL PHASE 6)
# =============================================================================
# Uncomment and configure these when deploying to AWS in Phase 6

# AWS_ACCOUNT_ID=412527729032
# AWS_REGION=ap-southeast-2
# AWS_ACCESS_KEY_ID=your-access-key-here
# AWS_SECRET_ACCESS_KEY=your-secret-key-here

# # AWS S3 Media Storage (Phase 6)
# STORAGE_TYPE=s3
# S3_BUCKET_NAME=parenting-helper-media-prod
# S3_BUCKET_REGION=ap-southeast-2

# # AWS RDS PostgreSQL (Phase 6)
# DATABASE_URL=postgresql://username:password@your-rds-endpoint.ap-southeast-2.rds.amazonaws.com:5432/parenting_helper_prod

# =============================================================================
# KINDE AUTHENTICATION
# =============================================================================
KINDE_DOMAIN=https://parentinghelper.kinde.com
KINDE_CLIENT_ID=39fa7698fc83461eb065dfc850f867ee
KINDE_CLIENT_SECRET=your-kinde-client-secret-here
KINDE_REDIRECT_URI=http://localhost:3000/callback
KINDE_LOGOUT_REDIRECT_URI=http://localhost:3000

# =============================================================================
# STRIPE PAYMENT PROCESSING
# =============================================================================
# 🔒 NEVER commit real keys to git! Use .env.local

# Web App (Client-side) - Publishable Key
# GET FROM: Stripe Dashboard > Developers > API Keys
STRIPE_PUBLISHABLE_KEY=pk_live_your_publishable_key_here

# Backend (Server-side) - Secret Key
# GET FROM: Stripe Dashboard > Developers > API Keys
STRIPE_SECRET_KEY=sk_live_your_secret_key_here

# Stripe Webhook Secret (get from Stripe dashboard after creating webhook)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Stripe Product IDs (create these in Stripe dashboard)
STRIPE_ADMIN_SUBSCRIPTION_PRICE_ID=price_your_admin_sub_id_here
STRIPE_STORAGE_PRICE_ID=price_your_storage_id_here

# Australian Business Number
ABN=88 741 861 465

# =============================================================================
# AWS SES EMAIL (SKIP UNTIL PHASE 6)
# =============================================================================
# Uncomment when deploying to AWS in Phase 6

# SES_FROM_EMAIL=noreply@parentinghelperapp.com
# SES_SUPPORT_EMAIL=support@parentinghelperapp.com
# SES_REGION=ap-southeast-2

# NOTE: Set up during Phase 6 (AWS Deployment)
# 1. Register domain (parentinghelperapp.com) with Porkbun
# 2. Verify domain in AWS SES
# 3. Request production access
# 4. Configure DNS records (DKIM/SPF/DMARC)

# =============================================================================
# PUSH NOTIFICATIONS (Post-Launch MVP2)
# =============================================================================
# NOTE: Using polling for MVP1 (simpler architecture)
# Push notifications will be added in MVP2 based on user feedback

# Android FCM (Firebase account: zcarss@gmail.com)
# Set up Firebase project when ready
FCM_SERVER_KEY=your-fcm-server-key-here
FCM_PROJECT_ID=your-firebase-project-id

# iOS APNs (Apple Developer Account - purchase before App Store submission)
# Set up during Phase 6 (pre-launch)
APNS_KEY_ID=your-apns-key-id
APNS_TEAM_ID=your-team-id
APNS_KEY_PATH=/path/to/apns-key.p8

# OneSignal (Optional - skipped for MVP1, can add in MVP2)
# ONESIGNAL_APP_ID=your-onesignal-app-id
# ONESIGNAL_API_KEY=your-onesignal-api-key

# =============================================================================
# FRONTEND - WEB APP
# =============================================================================
REACT_APP_API_URL=http://localhost:3001
REACT_APP_KINDE_DOMAIN=https://parentinghelper.kinde.com
REACT_APP_KINDE_CLIENT_ID=39fa7698fc83461eb065dfc850f867ee
REACT_APP_KINDE_REDIRECT_URI=http://localhost:3000/callback
REACT_APP_STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}

# =============================================================================
# FRONTEND - MOBILE APPS (Expo)
# =============================================================================
EXPO_PUBLIC_API_URL=http://localhost:3001
EXPO_PUBLIC_KINDE_DOMAIN=https://parentinghelper.kinde.com
EXPO_PUBLIC_KINDE_CLIENT_ID=39fa7698fc83461eb065dfc850f867ee
EXPO_PUBLIC_WEB_APP_URL=http://localhost:3000

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================
# JWT Secret for local development
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Log level
LOG_LEVEL=debug

# Enable debug features
DEBUG=true

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================
# In production, override these values:
# - API_BASE_URL → https://api.parentinghelperapp.com
# - REACT_APP_API_URL → https://api.parentinghelperapp.com
# - KINDE_REDIRECT_URI → https://parentinghelperapp.com/callback
# - DB_HOST → RDS production endpoint
# - S3_BUCKET_NAME → parenting-helper-media-prod
# - Use AWS Secrets Manager for all sensitive values
