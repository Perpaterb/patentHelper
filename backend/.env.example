# Backend Environment Variables
# Copy this to .env and fill in your values
#
# For PRODUCTION values, see the server at /home/ubuntu/family-helper/.env

# ==============================================
# Environment
# ==============================================
NODE_ENV=development
PORT=3000

# ==============================================
# Database
# ==============================================
# Local development (Docker PostgreSQL)
DATABASE_URL=postgresql://familyhelper_admin:localdev123@localhost:5432/familyhelper

# Production example (RDS - DO NOT commit real credentials):
# DATABASE_URL=postgresql://user:pass@family-helper-db-prod.xxx.rds.amazonaws.com:5432/familyhelper

# ==============================================
# Authentication (Kinde)
# ==============================================
KINDE_DOMAIN=https://familyhelperapp.kinde.com

# Development app (FamilyHelperAPPDev)
KINDE_CLIENT_ID=552e8d9d29f046418a8dfce0b7f0de1b
KINDE_CLIENT_SECRET=

# Production app (FamilyHelperAPPProd) - use in .env on server:
# KINDE_CLIENT_ID=bfbf86777e654654b374cf92f5719c74

# Redirect URIs
KINDE_REDIRECT_URI=http://localhost:3000/callback

# ==============================================
# Security
# ==============================================
# JWT signing secret (generate with: openssl rand -hex 32)
JWT_SECRET=dev-jwt-secret-change-in-production

# Message encryption key (64 character hex string)
# Generate with: openssl rand -hex 32
MESSAGE_ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# ==============================================
# File Storage
# ==============================================
# S3 bucket for uploads and recordings
S3_BUCKET=family-helper-files-prod
AWS_REGION=ap-southeast-2

# AWS credentials (optional for local - uses ~/.aws/credentials by default)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# ==============================================
# Call Recording (Puppeteer)
# ==============================================
# Use local Puppeteer recorder (unified mode on Lightsail)
USE_LOCAL_RECORDER=true

# Chrome executable path (set in Docker or Lightsail)
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium

# ==============================================
# Email (Local: MailHog)
# ==============================================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USER=
SMTP_PASS=
EMAIL_FROM=noreply@familyhelperapp.com

# ==============================================
# Stripe
# ==============================================
# Use TEST keys for development
STRIPE_SECRET_KEY=sk_test_your_test_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key

# Production keys (use in .env on server):
# STRIPE_SECRET_KEY=sk_live_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ==============================================
# Internal API Keys
# ==============================================
# Generate with: openssl rand -hex 32
BILLING_API_KEY=dev-billing-api-key

# ==============================================
# CORS
# ==============================================
# Development - web-admin on 8081, mobile-main on 8082
CORS_ORIGINS=http://localhost:3000,http://localhost:8081,http://localhost:8082

# Production:
# CORS_ORIGINS=https://familyhelperapp.com,https://www.familyhelperapp.com
